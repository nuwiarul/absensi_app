{
  "db_name": "PostgreSQL",
  "query": "\n            SELECT\n                s.id AS session_id,\n                s.work_date AS work_date,\n                s.user_id AS user_id,\n                u.full_name AS full_name,\n                u.nrp AS nrp,\n                st.name AS satker_name,\n                st.code AS satker_code,\n                s.check_in_at AS \"check_in_at?\",\n                s.check_out_at AS \"check_out_at?\",\n                ci.geofence_id AS \"check_in_geofence_id?\",\n                co.geofence_id AS \"check_out_geofence_id?\",\n                ci.distance_to_fence_m AS \"check_in_distance_to_fence_m?\",\n                co.distance_to_fence_m AS \"check_out_distance_to_fence_m?\",\n                gci.name AS \"check_in_geofence_name?\",\n                gco.name AS \"check_out_geofence_name?\",\n                ci.latitude AS \"check_in_latitude?\",\n                ci.longitude AS \"check_in_longitute?\",\n                co.latitude AS \"check_out_latitude?\",\n                co.longitude AS \"check_out_longitute?\",\n                ci.selfie_object_key AS \"check_in_selfie_object_key?\",\n                co.selfie_object_key AS \"check_out_selfie_object_key?\",\n                ci.accuracy_meters AS \"check_in_accuracy_meters?\",\n                co.accuracy_meters AS \"check_out_accuracy_meters?\",\n                ci.attendance_leave_type AS \"check_in_attendance_leave_type?: AttendanceLeaveType\",\n                co.attendance_leave_type AS \"check_out_attendance_leave_type?: AttendanceLeaveType\",\n                ci.attendance_leave_notes AS \"check_in_attendance_leave_notes?\",\n                co.attendance_leave_notes AS \"check_out_attendance_leave_notes?\",\n                ci.device_id AS \"check_in_device_id?\",\n                co.device_id AS \"check_out_device_id?\",\n                ci.device_model AS \"check_in_device_model?\",\n                co.device_model AS \"check_out_device_model?\",\n                ui.full_name AS \"check_in_device_name?\",\n                uo.full_name AS \"check_out_device_name?\",\n\n                s.is_manual AS \"is_manual?\",\n                s.manual_note AS \"manual_note?\",\n                s.manual_updated_at AS \"manual_updated_at?\"\n            FROM attendance_sessions s\n            JOIN users u ON s.user_id=u.id\n            JOIN satkers st ON s.satker_id=st.id\n            LEFT JOIN attendance_events ci ON s.id=ci.session_id AND ci.event_type = 'CHECK_IN'\n            LEFT JOIN attendance_events co ON s.id=co.session_id AND co.event_type = 'CHECK_OUT'\n            LEFT JOIN geofences gci ON ci.geofence_id=gci.id\n            LEFT JOIN geofences gco ON co.geofence_id=gco.id\n            LEFT JOIN user_devices uci ON ci.device_id=uci.device_id\n            LEFT JOIN user_devices uco ON co.device_id=uco.device_id\n            LEFT JOIN users ui ON uci.user_id=ui.id\n            LEFT JOIN users uo ON uco.user_id=uo.id\n            WHERE s.work_date=$1 AND s.user_id=$2\n            ",
  "describe": {
    "columns": [
      {
        "ordinal": 0,
        "name": "session_id",
        "type_info": "Uuid"
      },
      {
        "ordinal": 1,
        "name": "work_date",
        "type_info": "Date"
      },
      {
        "ordinal": 2,
        "name": "user_id",
        "type_info": "Uuid"
      },
      {
        "ordinal": 3,
        "name": "full_name",
        "type_info": "Text"
      },
      {
        "ordinal": 4,
        "name": "nrp",
        "type_info": "Text"
      },
      {
        "ordinal": 5,
        "name": "satker_name",
        "type_info": "Text"
      },
      {
        "ordinal": 6,
        "name": "satker_code",
        "type_info": "Text"
      },
      {
        "ordinal": 7,
        "name": "check_in_at?",
        "type_info": "Timestamptz"
      },
      {
        "ordinal": 8,
        "name": "check_out_at?",
        "type_info": "Timestamptz"
      },
      {
        "ordinal": 9,
        "name": "check_in_geofence_id?",
        "type_info": "Uuid"
      },
      {
        "ordinal": 10,
        "name": "check_out_geofence_id?",
        "type_info": "Uuid"
      },
      {
        "ordinal": 11,
        "name": "check_in_distance_to_fence_m?",
        "type_info": "Float8"
      },
      {
        "ordinal": 12,
        "name": "check_out_distance_to_fence_m?",
        "type_info": "Float8"
      },
      {
        "ordinal": 13,
        "name": "check_in_geofence_name?",
        "type_info": "Text"
      },
      {
        "ordinal": 14,
        "name": "check_out_geofence_name?",
        "type_info": "Text"
      },
      {
        "ordinal": 15,
        "name": "check_in_latitude?",
        "type_info": "Float8"
      },
      {
        "ordinal": 16,
        "name": "check_in_longitute?",
        "type_info": "Float8"
      },
      {
        "ordinal": 17,
        "name": "check_out_latitude?",
        "type_info": "Float8"
      },
      {
        "ordinal": 18,
        "name": "check_out_longitute?",
        "type_info": "Float8"
      },
      {
        "ordinal": 19,
        "name": "check_in_selfie_object_key?",
        "type_info": "Text"
      },
      {
        "ordinal": 20,
        "name": "check_out_selfie_object_key?",
        "type_info": "Text"
      },
      {
        "ordinal": 21,
        "name": "check_in_accuracy_meters?",
        "type_info": "Float8"
      },
      {
        "ordinal": 22,
        "name": "check_out_accuracy_meters?",
        "type_info": "Float8"
      },
      {
        "ordinal": 23,
        "name": "check_in_attendance_leave_type?: AttendanceLeaveType",
        "type_info": {
          "Custom": {
            "name": "attendance_leave_type",
            "kind": {
              "Enum": [
                "NORMAL",
                "JADWAL_DINAS",
                "DINAS_LUAR",
                "WFA",
                "WFH",
                "IJIN",
                "SAKIT"
              ]
            }
          }
        }
      },
      {
        "ordinal": 24,
        "name": "check_out_attendance_leave_type?: AttendanceLeaveType",
        "type_info": {
          "Custom": {
            "name": "attendance_leave_type",
            "kind": {
              "Enum": [
                "NORMAL",
                "JADWAL_DINAS",
                "DINAS_LUAR",
                "WFA",
                "WFH",
                "IJIN",
                "SAKIT"
              ]
            }
          }
        }
      },
      {
        "ordinal": 25,
        "name": "check_in_attendance_leave_notes?",
        "type_info": "Text"
      },
      {
        "ordinal": 26,
        "name": "check_out_attendance_leave_notes?",
        "type_info": "Text"
      },
      {
        "ordinal": 27,
        "name": "check_in_device_id?",
        "type_info": "Text"
      },
      {
        "ordinal": 28,
        "name": "check_out_device_id?",
        "type_info": "Text"
      },
      {
        "ordinal": 29,
        "name": "check_in_device_model?",
        "type_info": "Text"
      },
      {
        "ordinal": 30,
        "name": "check_out_device_model?",
        "type_info": "Text"
      },
      {
        "ordinal": 31,
        "name": "check_in_device_name?",
        "type_info": "Text"
      },
      {
        "ordinal": 32,
        "name": "check_out_device_name?",
        "type_info": "Text"
      },
      {
        "ordinal": 33,
        "name": "is_manual?",
        "type_info": "Bool"
      },
      {
        "ordinal": 34,
        "name": "manual_note?",
        "type_info": "Text"
      },
      {
        "ordinal": 35,
        "name": "manual_updated_at?",
        "type_info": "Timestamptz"
      }
    ],
    "parameters": {
      "Left": [
        "Date",
        "Uuid"
      ]
    },
    "nullable": [
      false,
      false,
      false,
      false,
      false,
      false,
      false,
      true,
      true,
      true,
      true,
      true,
      true,
      false,
      false,
      true,
      true,
      true,
      true,
      true,
      true,
      true,
      true,
      false,
      false,
      true,
      true,
      true,
      true,
      true,
      true,
      false,
      false,
      false,
      true,
      true
    ]
  },
  "hash": "d62862f214443731e1442a78f0ae3631f45d4a32b5fbcd5e4d999b1ef0204402"
}
